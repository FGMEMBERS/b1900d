<?xml version="1.0"?>
<PropertyList>
<!-- ======  Lateral Modes  ====== -->

    <pid-controller>
        <name>Wing Leveler</name>
        <debug>false</debug>
        <enable>
            <prop>autopilot/locks/heading</prop>
            <value>wing-leveler</value>
        </enable>
        <input>
            <prop>orientation/roll-deg</prop>
        </input>
        <reference>
            <value>0.0</value>
        </reference>
        <output>
            <prop>autopilot/internal/target-roll-deg</prop>
        </output>
        <config>
            <Kp>1.0</Kp>
            <beta>1.0</beta>
            <alpha>0.1</alpha>
            <gamma>0.0</gamma>
            <Ti>10.0</Ti>
            <Td>0.0</Td>
            <u_min>
                <prop>instrumentation/flightdirector/roll-min</prop>
            </u_min>
            <u_max>
                <prop>instrumentation/flightdirector/roll-max</prop>
            </u_max>
        </config>
    </pid-controller>

    <pi-simple-controller>
        <name>Heading Bug Hold (DG based) Stage 1</name>
        <debug>false</debug>
        <enable>
            <prop>autopilot/locks/heading</prop>
            <value>dg-heading-hold</value>
        </enable>
        <input>
            <prop>autopilot/internal/fdm-heading-bug-error-deg</prop>
        </input>
        <reference>
            <value>0.0</value>
        </reference>
        <output>
            <prop>autopilot/internal/target-roll-deg</prop>
        </output>
        <config>
            <Kp>-1.5</Kp>
            <Ki>0.0</Ki>
            <u_min>
                <prop>instrumentation/flightdirector/roll-min</prop>
            </u_min>
            <u_max>
                <prop>instrumentation/flightdirector/roll-max</prop>
            </u_max>
        </config>
    </pi-simple-controller>

    <pi-simple-controller>
        <name>Nav1 Hold Stage 1</name>
        <debug>false</debug>
        <enable>
            <prop>autopilot/locks/heading</prop>
            <value>nav1-hold</value>
        </enable>
        <input>
            <prop>orientation/heading-deg</prop>
        </input>
        <reference>
            <prop>instrumentation/nav/radials/target-auto-hdg-deg</prop>
        </reference>
        <output>
            <prop>autopilot/internal/target-roll-deg</prop>
        </output>
        <config>
            <Kp>-1.5</Kp>
            <Ki>0.0</Ki>
            <u_min>
                <prop>instrumentation/flightdirector/roll-min</prop>
            </u_min>
            <u_max>
                <prop>instrumentation/flightdirector/roll-max</prop>
            </u_max>
        </config>
    </pi-simple-controller>

    <pi-simple-controller>
        <name>GPS Hold </name>
        <debug>false</debug>
        <enable>
            <prop>autopilot/locks/heading</prop>
            <value>gps-hold</value>
        </enable>
        <input>
            <prop>autopilot/internal/gps-true-course</prop>
        </input>
        <reference>
            <value>0</value>
        </reference>
        <output>
            <prop>autopilot/internal/target-roll-deg</prop>
        </output>
        <config>
            <Kp>-1.0</Kp>
            <Ki>0.0</Ki>
            <u_min>
                <prop>instrumentation/flightdirector/roll-min</prop>
            </u_min>
            <u_max>
                <prop>instrumentation/flightdirector/roll-max</prop>
            </u_max>
        </config>
    </pi-simple-controller>

    <pid-controller>
        <name>Roll</name>
        <debug>false</debug>
        <enable>
            <prop>autopilot/locks/roll-active</prop>
            <value>true</value>
            <honor-passive>true</honor-passive>
        </enable>
        <input>
            <prop>orientation/roll-deg</prop>
        </input>
        <reference>
            <prop>autopilot/internal/target-roll-deg</prop>
        </reference>
        <output>
            <prop>controls/flight/aileron</prop>
        </output>
        <config>
            <Kp>0.25</Kp>
            <beta>1.0</beta>
            <alpha>0.1</alpha>
            <gamma>0.0</gamma>
            <Ti>10.0</Ti>
            <Td>0.0</Td>
            <u_min>
                <value>-1</value>
            </u_min>
            <u_max>
                <value>1</value>
            </u_max>
        </config>
    </pid-controller>

<!-- ======= Vertical Modes ======= -->

    <pid-controller>
        <name>Alt Hold</name>
        <debug>false</debug>
        <enable>
            <prop>autopilot/locks/altitude</prop>
            <value>altitude-hold</value>
        </enable>
        <input>
            <prop>position/altitude-ft</prop>
        </input>
        <reference>
            <prop>autopilot/settings/target-altitude-ft</prop>
        </reference>
        <output>
            <prop>autopilot/settings/target-pitch-deg</prop>
        </output>
        <config>
            <Kp>0.15</Kp>
            <beta>1.0</beta>
            <alpha>0.1</alpha>
            <gamma>0.0</gamma>
            <Ti>10.0</Ti>
            <Td>0.00001</Td>
            <u_min>
                <prop>instrumentation/flightdirector/pitch-min</prop>
            </u_min>
            <u_max>
                <prop>instrumentation/flightdirector/pitch-max</prop>
            </u_max>
        </config>
    </pid-controller>

    <pid-controller>
        <name>Glideslope Hold</name>
        <debug>false</debug>
        <enable>
            <prop>autopilot/locks/altitude</prop>
            <value>gs1-hold</value>
        </enable>
        <input>
            <prop>velocities/vertical-speed-fps</prop>
        </input>
        <reference>
            <prop>instrumentation/nav[0]/gs-rate-of-climb</prop>
        </reference>
        <output>
            <prop>autopilot/settings/target-pitch-deg</prop>
        </output>
        <config>
            <Kp>0.06</Kp>
            <beta>1.0</beta>
            <alpha>0.1</alpha>
            <gamma>0.0</gamma>
            <Ti>10.0</Ti>
            <Td>0.00001</Td>
            <u_min>
                <prop>instrumentation/flightdirector/pitch-min</prop>
            </u_min>
            <u_max>
                <prop>instrumentation/flightdirector/pitch-max</prop>
            </u_max>
        </config>
    </pid-controller>

    <pid-controller>
        <name>VS Hold</name>
        <debug>false</debug>
        <enable>
            <prop>autopilot/locks/altitude</prop>
            <value>vertical-speed-hold</value>
        </enable>
        <input>
            <prop>autopilot/internal/vert-speed-fpm</prop>
        </input>
        <reference>
            <prop>autopilot/settings/vertical-speed-fpm</prop>
        </reference>
        <output>
            <prop>autopilot/settings/target-pitch-deg</prop>
        </output>
        <config>
            <Kp>0.025</Kp>
            <beta>1.0</beta>
            <alpha>0.1</alpha>
            <gamma>0.0</gamma>
            <Ti>20.0</Ti>
            <Td>0.0</Td>
            <u_min>
                <prop>instrumentation/flightdirector/pitch-min</prop>
            </u_min>
            <u_max>
                <prop>instrumentation/flightdirector/pitch-max</prop>
            </u_max>
        </config>
    </pid-controller>

    <pid-controller>
        <name>Pitch Hold</name>
        <debug>false</debug>
        <enable>
            <prop>autopilot/locks/pitch-active</prop>
            <value>true</value>
            <honor-passive>true</honor-passive>
        </enable>
        <input>
            <prop>orientation/pitch-deg</prop>
        </input>
        <reference>
            <prop>autopilot/settings/target-pitch-deg</prop>
        </reference>
        <output>
            <prop>controls/flight/elevator-trim</prop>
        </output>
        <config>
            <Kp>-0.015</Kp>
            <beta>1.0</beta>
            <alpha>0.1</alpha>
            <gamma>0.0</gamma>
            <Ti>10.0</Ti>
            <Td>0.0</Td>
            <u_min>
                <value>-1</value>
            </u_min>
            <u_max>
                <value>1</value>
            </u_max>
        </config>
    </pid-controller>

<!--========== Speed Modes =========-->

    <pid-controller>
        <name>Auto Throttle</name>
        <debug>false</debug>
        <enable>
            <prop>autopilot/locks/speed</prop>
            <value>ias-hold</value>
        </enable>
        <input>
            <prop>velocities/airspeed-kt</prop>
        </input>
        <reference>
            <prop>autopilot/settings/target-speed-kt</prop>
        </reference>
        <output>
            <prop>controls/engines/engine/throttle</prop>
            <prop>controls/engines/engine[1]/throttle</prop>
        </output>
        <config>
            <Kp>-0.05</Kp>
            <beta>1.0</beta>
            <alpha>0.1</alpha>
            <gamma>0.0</gamma>
            <Ti>1.0</Ti>
            <Td>0.00001</Td>
            <u_min>-0.5</u_min>
            <u_max>0.5</u_max>
        </config>
    </pid-controller>

    <pid-controller>
        <name>yaw damper</name>
        <debug>false</debug>
        <enable>
            <prop>controls/flight/yaw-damper</prop>
            <value type="bool">true</value>
        </enable>
        <input>
            <prop>instrumentation/slip-skid-ball/indicated-slip-skid</prop>
        </input>
        <reference>
            <value>0.0</value>
        </reference>
        <output>
            <prop>controls/flight/rudder</prop>
        </output>
        <config>
            <Kp>0.125</Kp>
            <beta>1.0</beta>
            <alpha>0.1</alpha>
            <gamma>0.0</gamma>
            <Ti>3.0</Ti>
            <Td>0.0</Td>
            <u_min>-0.5</u_min>
            <u_max>0.5</u_max>
        </config>
    </pid-controller>

</PropertyList>

